global temp

%macro ISR_FUNC 1
	global isr%1
	isr%1:
		cli
	push byte 0
	push byte %1
	jmp isr_hand
%endmacro

%macro ERRORISR_FUNC 1
	global isr%1
	isr%1:
		cli
		push byte %1
	jmp isr_hand
%endmacro

%macro IRQ_FUNC 1
	global irq%1
	irq%1:
		cli
		push byte 0
		push byte %1
		jmp irq_hand

%endmacro

ISR_FUNC 0
ISR_FUNC 1
ISR_FUNC 2
ISR_FUNC 3
ISR_FUNC 4
ISR_FUNC 5
ISR_FUNC 6
ISR_FUNC 7
ERRORISR_FUNC 8
ISR_FUNC 9
ERRORISR_FUNC 10
ERRORISR_FUNC 11
ERRORISR_FUNC 12
ERRORISR_FUNC 13
ERRORISR_FUNC 14
ISR_FUNC 15
ISR_FUNC 16
ISR_FUNC 17
ISR_FUNC 18
ISR_FUNC 19
ISR_FUNC 20
ISR_FUNC 21
ISR_FUNC 22
ISR_FUNC 23
ISR_FUNC 24
ISR_FUNC 25
ISR_FUNC 26
ISR_FUNC 27
ISR_FUNC 28
ISR_FUNC 29
ISR_FUNC 30
ISR_FUNC 31
IRQ_FUNC 0 ; IRQ START HERE
IRQ_FUNC 1
IRQ_FUNC 2
IRQ_FUNC 3
IRQ_FUNC 4
IRQ_FUNC 5
IRQ_FUNC 6
IRQ_FUNC 7
IRQ_FUNC 8
IRQ_FUNC 9
IRQ_FUNC 10
IRQ_FUNC 11
IRQ_FUNC 12
IRQ_FUNC 13
IRQ_FUNC 14
IRQ_FUNC 15
ISR_FUNC 48
ISR_FUNC 49
ISR_FUNC 50
ISR_FUNC 51
ISR_FUNC 52
ISR_FUNC 53
ISR_FUNC 54
ISR_FUNC 55
ISR_FUNC 56
ISR_FUNC 57
ISR_FUNC 58
ISR_FUNC 59
ISR_FUNC 60
ISR_FUNC 61
ISR_FUNC 62
ISR_FUNC 63
ISR_FUNC 64
ISR_FUNC 65
ISR_FUNC 66
ISR_FUNC 67
ISR_FUNC 68
ISR_FUNC 69
ISR_FUNC 70
ISR_FUNC 71
ISR_FUNC 72
ISR_FUNC 73
ISR_FUNC 74
ISR_FUNC 75
ISR_FUNC 76
ISR_FUNC 77
ISR_FUNC 78
ISR_FUNC 79
ISR_FUNC 80
ISR_FUNC 81
ISR_FUNC 82
ISR_FUNC 83
ISR_FUNC 84
ISR_FUNC 85
ISR_FUNC 86
ISR_FUNC 87
ISR_FUNC 88
ISR_FUNC 89
ISR_FUNC 90
ISR_FUNC 91
ISR_FUNC 92
ISR_FUNC 93
ISR_FUNC 94
ISR_FUNC 95
ISR_FUNC 96
ISR_FUNC 97
ISR_FUNC 98
ISR_FUNC 99
ISR_FUNC 100
ISR_FUNC 101
ISR_FUNC 102
ISR_FUNC 103
ISR_FUNC 104
ISR_FUNC 105
ISR_FUNC 106
ISR_FUNC 107
ISR_FUNC 108
ISR_FUNC 109
ISR_FUNC 110
ISR_FUNC 111
ISR_FUNC 112
ISR_FUNC 113
ISR_FUNC 114
ISR_FUNC 115
ISR_FUNC 116
ISR_FUNC 117
ISR_FUNC 118
ISR_FUNC 119
ISR_FUNC 120
ISR_FUNC 121
ISR_FUNC 122
ISR_FUNC 123
ISR_FUNC 124
ISR_FUNC 125
ISR_FUNC 126
ISR_FUNC 127
ISR_FUNC 128
ISR_FUNC 129
ISR_FUNC 130
ISR_FUNC 131
ISR_FUNC 132
ISR_FUNC 133
ISR_FUNC 134
ISR_FUNC 135
ISR_FUNC 136
ISR_FUNC 137
ISR_FUNC 138
ISR_FUNC 139
ISR_FUNC 140
ISR_FUNC 141
ISR_FUNC 142
ISR_FUNC 143
ISR_FUNC 144
ISR_FUNC 145
ISR_FUNC 146
ISR_FUNC 147
ISR_FUNC 148
ISR_FUNC 149
ISR_FUNC 150
ISR_FUNC 151
ISR_FUNC 152
ISR_FUNC 153
ISR_FUNC 154
ISR_FUNC 155
ISR_FUNC 156
ISR_FUNC 157
ISR_FUNC 158
ISR_FUNC 159
ISR_FUNC 160
ISR_FUNC 161
ISR_FUNC 162
ISR_FUNC 163
ISR_FUNC 164
ISR_FUNC 165
ISR_FUNC 166
ISR_FUNC 167
ISR_FUNC 168
ISR_FUNC 169
ISR_FUNC 170
ISR_FUNC 171
ISR_FUNC 172
ISR_FUNC 173
ISR_FUNC 174
ISR_FUNC 175
ISR_FUNC 176
ISR_FUNC 177
ISR_FUNC 178
ISR_FUNC 179
ISR_FUNC 180
ISR_FUNC 181
ISR_FUNC 182
ISR_FUNC 183
ISR_FUNC 184
ISR_FUNC 185
ISR_FUNC 186
ISR_FUNC 187
ISR_FUNC 188
ISR_FUNC 189
ISR_FUNC 190
ISR_FUNC 191
ISR_FUNC 192
ISR_FUNC 193
ISR_FUNC 194
ISR_FUNC 195
ISR_FUNC 196
ISR_FUNC 197
ISR_FUNC 198
ISR_FUNC 199
ISR_FUNC 200
ISR_FUNC 201
ISR_FUNC 202
ISR_FUNC 203
ISR_FUNC 204
ISR_FUNC 205
ISR_FUNC 206
ISR_FUNC 207
ISR_FUNC 208
ISR_FUNC 209
ISR_FUNC 210
ISR_FUNC 211
ISR_FUNC 212
ISR_FUNC 213
ISR_FUNC 214
ISR_FUNC 215
ISR_FUNC 216
ISR_FUNC 217
ISR_FUNC 218
ISR_FUNC 219
ISR_FUNC 220
ISR_FUNC 221
ISR_FUNC 222
ISR_FUNC 223
ISR_FUNC 224
ISR_FUNC 225
ISR_FUNC 226
ISR_FUNC 227
ISR_FUNC 228
ISR_FUNC 229
ISR_FUNC 230
ISR_FUNC 231
ISR_FUNC 232
ISR_FUNC 233
ISR_FUNC 234
ISR_FUNC 235
ISR_FUNC 236
ISR_FUNC 237
ISR_FUNC 238
ISR_FUNC 239
ISR_FUNC 240
ISR_FUNC 241
ISR_FUNC 242
ISR_FUNC 243
ISR_FUNC 244
ISR_FUNC 245
ISR_FUNC 246
ISR_FUNC 247
ISR_FUNC 248
ISR_FUNC 249
ISR_FUNC 250
ISR_FUNC 251
ISR_FUNC 252
ISR_FUNC 253
ISR_FUNC 254
ISR_FUNC 255

extern isr_handler
isr_hand:
	pusha
	
	mov ax, ds
	push eax

	mov ax, 0x10
	mov ds, ax
	mov es, ax
	mov fs, ax
	mov gs, ax
	
	call isr_handler

	pop ebx
	mov ds, bx
	mov es, bx
	mov fs, bx
	mov gs, bx

	popa

	add esp, 8
	sti
	iret
	sti
	iret

extern irq_handler
irq_hand:
	pusha
	mov ax, ds
	push eax

	mov ax, 0x10
	mov ds, ax
	mov es, ax
	mov fs, ax
	mov gs, ax
	
	call irq_handler

	pop ebx
	mov ds, bx
	mov es, bx
	mov fs, bx
	mov gs, bx

	popa

	add esp, 8
	sti
	iret
	sti
	iret	
